(this["webpackJsonpec-app-xx"]=this["webpackJsonpec-app-xx"]||[]).push([[0],{186:function(e,t,n){},187:function(e,t,n){},188:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return $t}));var c=n(2),a=n(0),r=n(15),i=n.n(r),s=n(9),o=n(63),u=n(130),l=n(28),d=n(104),j=n(111),b=n(25),O="DELETE_PRODUCT",p="FETCH_PRODUCTS",h={products:{list:[]},users:{cart:[],isSignedIn:!1,orders:[],role:"",uid:"",username:""}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.products,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:case p:return Object(b.a)(Object(b.a)({},e),{},{list:t.payload});default:return e}},m=n(33),x="FETCH_ORDERS_HISTORY",g="FETCH_PRODUCTS_IN_CART",v=function(e){return{type:"FETCH_PRODUCTS_IN_CART",payload:e}},w="SIGN_IN",C=function(e){return{type:"SIGN_IN",payload:{isSignedIn:!0,role:e.role,uid:e.uid,username:e.username}}},y="SIGN_OUT",k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.users,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(b.a)(Object(b.a)({},e),{},{orders:Object(m.a)(t.payload)});case g:return Object(b.a)(Object(b.a)({},e),{},{cart:Object(m.a)(t.payload)});case w:return Object(b.a)(Object(b.a)({},e),t.payload);case y:return Object(b.a)({},t.payload);default:return e}};var N=n(128),S=n(256),_=n(129),I=Object(_.a)({palette:{primary:{light:"#88ffff",main:"#4dd0e1",dark:"#009faf",contrastText:"#000"},secondary:{light:"#ffff81",main:"#ffd54f",dark:"#c8a415",contrastText:"#000"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"}}}),z=n(29),E=n(52),T=function(e){return e.users},q=Object(E.a)([T],(function(e){return e.isSignedIn})),B=Object(E.a)([T],(function(e){return e.orders})),D=Object(E.a)([T],(function(e){return e.cart})),F=Object(E.a)([T],(function(e){return e.uid})),R=(Object(E.a)([T],(function(e){return e.username})),n(240)),L=n(242),P=n(235),W=n(194),A=n(233),U=n(232),H=n(195),M=n(84),G=n.n(M),Y=n(234),J=n(58);n(164),n(191),n(192),n(193);J.a.initializeApp({apiKey:"AIzaSyCfGmPCn32y5zF9ML8IjfgMyjCWhafwCs4",authDomain:"ecapp-xx.firebaseapp.com",projectId:"ecapp-xx",storageBucket:"ecapp-xx.appspot.com",messagingSenderId:"591112577216",appId:"1:591112577216:web:b6c907520d93e5327e0d25",measurementId:"G-4297XJCKRH"});var K,V=J.a.auth(),X=J.a.firestore(),Q=J.a.storage(),Z=(J.a.functions(),J.a.firestore.Timestamp),$=Object(H.a)((function(e){return{list:{height:128},image:{objectFit:"cover",margin:16,height:96,width:96},text:{width:"100%"}}})),ee=function(e){var t=$(),n=Object(s.e)((function(e){return e})),a=e.product.images[0].path,r=e.product.price.toLocaleString();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(W.a,{className:t.list,children:[Object(c.jsx)(U.a,{children:Object(c.jsx)("img",{className:t.image,src:a,alt:"\u5546\u54c1\u306eTOP\u753b\u50cf"})}),Object(c.jsxs)("div",{className:t.text,children:[Object(c.jsx)(A.a,{primary:e.product.name,secondary:"\u30b5\u30a4\u30ba\uff1a"+e.product.size}),Object(c.jsx)(A.a,{primary:"\xa5"+r})]}),Object(c.jsx)(Y.a,{onClick:function(){return function(e){var t=F(n);return X.collection("users").doc(t).collection("cart").doc(e).delete()}(e.product.cartId)},children:Object(c.jsx)(G.a,{})})]}),Object(c.jsx)(P.a,{})]})},te=n(14),ne=n.n(te),ce=n(26),ae=n(115),re=n.n(ae),ie=function(e){return Object(c.jsx)("div",{className:"p-media__thumb",onClick:function(){return e.delete(e.id)},children:Object(c.jsx)("img",{alt:"\u30d7\u30ec\u30d3\u30e5\u30fc\u753b\u50cf",src:e.path})})},se=Object(H.a)({icon:{height:48,width:48}}),oe=function(e){var t=se(),n=Object(a.useCallback)(function(){var t=Object(ce.a)(ne.a.mark((function t(n){var c;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("\u3053\u306e\u753b\u50cf\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f")){t.next=5;break}return t.abrupt("return",!1);case 5:return c=e.images.filter((function(e){return e.id!==n})),e.setImages(c),t.abrupt("return",Q.ref("images").child(n).delete());case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e.images]),r=Object(a.useCallback)((function(t){var n=t.target.files,c=new Blob(n,{type:"image/jpeg"}),a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r=Array.from(crypto.getRandomValues(new Uint32Array(16))).map((function(e){return a[e%a.length]})).join(""),i=Q.ref("images").child(r).put(c);i.then((function(){i.snapshot.ref.getDownloadURL().then((function(t){var n={id:r,path:t};e.setImages((function(e){return[].concat(Object(m.a)(e),[n])}))}))}))}),[e.setImages]);return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"p-grid__list-images",children:e.images.length>0&&e.images.map((function(e){return Object(c.jsx)(ie,{delete:n,id:e.id,path:e.path},e.id)}))}),Object(c.jsxs)("div",{className:"u-text-right",children:[Object(c.jsx)("span",{children:"\u5546\u54c1\u753b\u50cf\u3092\u4fdd\u5b58\u3059\u308b"}),Object(c.jsx)(Y.a,{className:t.icon,children:Object(c.jsxs)("label",{children:[Object(c.jsx)(re.a,{}),Object(c.jsx)("input",{className:"u-display-none",type:"file",id:"image",onChange:function(e){return r(e)}})]})})]})]})},ue=n(11),le=n(116),de=n.n(le),je=n.p+"static/media/no_image.1a2d0029.png",be=(n(171),function(e){var t=Object(a.useState)({pagination:{el:".swiper-pagination",type:"bullets",clickable:!0,dynamicBullets:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},loop:!0}),n=Object(ue.a)(t,1)[0],r=e.images;return Object(c.jsx)(de.a,Object(b.a)(Object(b.a)({},n),{},{children:0===r.length?Object(c.jsx)("div",{className:"p-media__thumb",children:Object(c.jsx)("img",{src:je,alt:"no image"})}):r.map((function(e){return Object(c.jsx)("div",{className:"p-media__thumb",children:Object(c.jsx)("img",{src:e.path,alt:"\u5546\u54c1\u60c5\u5831"})})}))}))}),Oe=n(236),pe=Object(H.a)((function(e){return{button:{backgroundColor:e.palette.grey[300],fontSize:16,height:48,marginButtom:16,width:256}}})),he=function(e){var t=pe();return Object(c.jsx)(Oe.a,{className:t.button,variant:"contained",onClick:function(){return e.onClick()},children:e.label})},fe=Object(H.a)({button:{backgroundColor:"#4dd0e1",color:"#000",fontSize:16,height:48,marginButtom:16,width:256}}),me=function(e){var t=fe();return Object(c.jsx)(Oe.a,{className:t.button,variant:"contained",onClick:function(){return e.onClick()},children:e.label})},xe=Object(H.a)({row:{display:"flex",flexFlow:"row wrap",marginBottom:16},label:{marginLeft:0,marginRight:"auto"},value:{fontWeight:600,marginLeft:"auto",marginRight:0}}),ge=function(e){var t=xe();return Object(c.jsxs)("div",{className:t.row,children:[Object(c.jsx)("div",{className:t.label,children:e.label}),Object(c.jsx)("div",{className:t.value,children:e.value})]})},ve=n(260),we=function(e){return Object(c.jsx)(ve.a,{fullWidth:e.fullWidth,label:e.label,margin:"dense",multiline:e.multiline,required:e.required,rows:e.rows,value:e.value,type:e.type,onChange:e.onChange})},Ce=n(262),ye=n(241),ke=n(239),Ne=n(258),Se=Object(H.a)({formControl:{marginBottom:16,minWidth:128,width:"100%"}}),_e=function(e){var t=Se();return Object(c.jsxs)(ke.a,{className:t.formControl,children:[Object(c.jsx)(Ce.a,{children:e.label}),Object(c.jsx)(Ne.a,{required:e.required,value:e.value,onChange:function(t){return e.select(t.target.value)},children:e.options.map((function(e){return Object(c.jsx)(ye.a,{value:e.id,children:e.name},e.id)}))})]})},Ie=function(e){var t,n=e.order,a=(t=n.updated_at.toDate()).getFullYear()+"-"+("00"+(t.getMonth()+1)).slice(-2)+"-"+("00"+t.getDate()).slice(-2)+"-"+("00"+t.getHours()).slice(-2)+":"+("00"+t.getMinutes()).slice(-2)+":"+("00"+t.getSeconds()).slice(-2),r=function(e){return e.getFullYear()+"-"+("00"+(e.getMonth()+1)).slice(-2)+"-"+("00"+e.getDate()).slice(-2)}(n.shipping_date.toDate()),i="\xa5"+n.amount.toLocaleString();return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"module-spacer--small"}),Object(c.jsx)(ge,{label:"\u6ce8\u6587ID",value:n.id}),Object(c.jsx)(ge,{label:"\u6ce8\u6587\u65e5\u6642",value:a}),Object(c.jsx)(ge,{label:"\u767a\u9001\u4e88\u5b9a\u65e5",value:r}),Object(c.jsx)(ge,{label:"\u6ce8\u6587\u91d1\u984d",value:i}),n.products.length>0&&Object(c.jsx)(Te,{products:n.products}),Object(c.jsx)("div",{className:"module-spacer--extra-small"}),Object(c.jsx)(P.a,{})]})},ze=n(24),Ee=Object(H.a)({list:{background:"#fff",height:"auto"},image:{objectFit:"cover",margin:"8px 16px 8px 0",height:96,width:96},text:{width:"100%"}}),Te=function(e){var t=Ee(),n=Object(s.d)(),r=e.products,i=Object(a.useCallback)((function(e){n(Object(ze.d)("/product/"+e))}),[]);return Object(c.jsx)(R.a,{children:r.map((function(e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(W.a,{className:t.list,children:[Object(c.jsx)(U.a,{children:Object(c.jsx)("img",{className:t.image,src:e.images[0].path,alt:"Ordered Product"})}),Object(c.jsxs)("div",{className:t.text,children:[Object(c.jsx)(A.a,{primary:e.name,secondary:"\u30b5\u30a4\u30ba: "+e.size}),Object(c.jsx)(A.a,{primary:"\xa5"+e.price.toLocaleString()})]}),Object(c.jsx)(me,{label:"\u5546\u54c1\u60c5\u5831\u3092\u898b\u308b",onClick:function(){return i(e.id)}})]},e.id),Object(c.jsx)(P.a,{})]})}))})},qe=n(18),Be=n(243),De=n(245),Fe=n(244),Re=n(89),Le=n(131),Pe=n(118),We=n.n(Pe),Ae=n(117),Ue=X.collection("products"),He=Object(L.a)((function(e){var t;return{root:(t={},Object(qe.a)(t,e.breakpoints.down("sm"),{margin:8,width:"calc(50% - 16px)"}),Object(qe.a)(t,e.breakpoints.up("sm"),{margin:16,width:"calc(33.3333% - 32px)"}),t),content:{display:"flex",padding:"16px 8px",textAlign:"left","&:last-child":{paddingBottom:16}},media:{height:0,paddingTop:"100%"},price:{color:e.palette.secondary.main,fontSize:16}}})),Me=function(e){var t=He(),n=Object(s.d)(),r=Object(a.useState)(null),i=Object(ue.a)(r,2),o=i[0],u=i[1],l=function(){u(null)},d=e.images.length>0?e.images:[{path:je}],j=e.price.toLocaleString();return Object(c.jsxs)(Be.a,{className:t.root,children:[Object(c.jsx)(Fe.a,{className:t.media,image:d[0].path,title:"",onClick:function(){return n(Object(ze.d)("/product/"+e.id))}}),Object(c.jsxs)(De.a,{className:t.content,children:[Object(c.jsxs)("div",{onClick:function(){return n(Object(ze.d)("/product/"+e.id))},children:[Object(c.jsx)(Re.a,{color:"textSecondary",component:"p",children:e.name}),Object(c.jsxs)(Re.a,{className:t.price,component:"p",children:["\xa5",j]})]}),Object(c.jsx)(Y.a,{onClick:function(e){u(e.currentTarget)},children:Object(c.jsx)(We.a,{})}),Object(c.jsxs)(Le.a,{anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:l,children:[Object(c.jsx)(ye.a,{onClick:function(){n(Object(ze.d)("/product/edit/"+e.id)),l()},children:"\u7de8\u96c6\u3059\u308b"}),Object(c.jsx)(ye.a,{onClick:function(){var t;n((t=e.id,function(){var e=Object(ce.a)(ne.a.mark((function e(n,c){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ue.doc(t).delete().then((function(){var e=c().products.list.filter((function(e){return e.id!==t}));n({type:"DELETE_PRODUCT",payload:e})}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),l()},children:"\u524a\u9664\u3059\u308b"})]})]})]})},Ge=n(246),Ye=n(134),Je=n(247),Ke=n(251),Ve=n(250),Xe=n(248),Qe=n(249),Ze=n(120),$e=n.n(Ze),et=n(119),tt=n.n(et),nt=Object(L.a)({checkIcon:{float:"right"},iconCell:{height:48,width:48}}),ct=function(e){var t=nt(),n=Object(a.useState)(0),r=Object(ue.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(""),u=Object(ue.a)(o,2),l=u[0],d=u[1],j=Object(a.useState)(0),b=Object(ue.a)(j,2),O=b[0],p=b[1],h=Object(a.useCallback)((function(e){d(e.target.value)}),[d]),f=Object(a.useCallback)((function(e){p(e.target.value)}),[p]);Object(a.useMemo)((function(){s(e.sizes.length)}),[e.sizes.length]);return Object(c.jsx)("div",{children:Object(c.jsxs)(Ge.a,{component:Ye.a,children:[Object(c.jsxs)(Je.a,{children:[Object(c.jsx)(Xe.a,{children:Object(c.jsxs)(Qe.a,{children:[Object(c.jsx)(Ve.a,{children:"\u30b5\u30a4\u30ba"}),Object(c.jsx)(Ve.a,{children:"\u6570\u91cf"}),Object(c.jsx)(Ve.a,{className:t.iconCell}),Object(c.jsx)(Ve.a,{className:t.iconCell})]})}),Object(c.jsx)(Ke.a,{children:e.sizes.length>0&&e.sizes.map((function(n,a){return Object(c.jsxs)(Qe.a,{children:[Object(c.jsx)(Ve.a,{children:n.size}),Object(c.jsx)(Ve.a,{children:n.quantity}),Object(c.jsx)(Ve.a,{children:Object(c.jsx)(Y.a,{className:t.iconCell,onClick:function(){return function(e,t,n){s(e),d(t),p(n)}(a,n.size,n.quantity)},children:Object(c.jsx)(tt.a,{})})}),Object(c.jsx)(Ve.a,{children:Object(c.jsx)(Y.a,{className:t.iconCell,onClick:function(){return function(t){var n=e.sizes.filter((function(e,n){return n!==t}));e.setSizes(n)}(a)},children:Object(c.jsx)(G.a,{})})})]},n.size)}))})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)(we,{fullWidth:!1,label:"\u30b5\u30a4\u30ba",multiline:!1,required:!0,onChange:h,rows:1,value:l,type:"text"}),Object(c.jsx)(we,{fullWidth:!1,label:"\u6570\u91cf",multiline:!1,required:!0,onChange:f,rows:1,value:O,type:"number"})]}),Object(c.jsx)(Y.a,{className:t.checkIcon,onClick:function(){return function(t,n,c){if(""===n||""===c)return!1;if(t===e.sizes.length)e.setSizes((function(e){return[].concat(Object(m.a)(e),[{size:n,quantity:c}])})),s(t+1),d(""),p(0);else{var a=e.sizes;a[t]={size:n,quantity:c},e.setSizes(a),s(a.length),d(""),p(0)}}(i,l,O)},children:Object(c.jsx)($e.a,{})})]})})},at=n(87),rt=n.n(at),it=n(88),st=n.n(it),ot=(Object(L.a)({iconCell:{padding:0,height:48,width:48}}),function(e){var t=Object(L.a)(),n=e.sizes;return Object(c.jsx)(Ge.a,{children:Object(c.jsx)(Je.a,{children:Object(c.jsx)(Ke.a,{children:n.length>0&&n.map((function(n){return Object(c.jsxs)(Qe.a,{children:[Object(c.jsx)(Ve.a,{component:"th",scope:"row",children:n.size}),Object(c.jsxs)(Ve.a,{children:["\u6b8b\u308a",n.quantity,"\u70b9"]}),Object(c.jsx)(Ve.a,{className:t.iconCell,children:n.quantity>0?Object(c.jsx)(Y.a,{onClick:function(){return e.addProduct(n.size)},children:Object(c.jsx)(rt.a,{})}):Object(c.jsx)("div",{children:"\u58f2\u5207"})}),Object(c.jsx)(Ve.a,{className:t.iconCell,children:Object(c.jsx)(Y.a,{children:Object(c.jsx)(st.a,{})})})]},n.size)}))})})})}),ut=Object(L.a)((function(e){return{root:{margin:"0 auto",maxWidth:512,width:"100%"}}})),lt=function(){var e=ut(),t=Object(s.d)(),n=Object(s.e)((function(e){return e})),r=D(n),i=Object(a.useCallback)((function(){t(Object(ze.d)("/order/confirm"))}),[t]),o=Object(a.useCallback)((function(){t(Object(ze.d)("/"))}),[t]);return Object(c.jsxs)("section",{className:"c-section-wrapin",children:[Object(c.jsx)("h2",{className:"u-text__headline",children:"\u30b7\u30e7\u30c3\u30d4\u30f3\u30b0\u30ab\u30fc\u30c8"}),Object(c.jsx)(R.a,{className:e.root,children:r.length>0&&r.map((function(e){return Object(c.jsx)(ee,{product:e},e.cartId)}))}),Object(c.jsx)("div",{className:"module-spacer--medium"}),Object(c.jsxs)("div",{className:"p-grid__column",children:[Object(c.jsx)(me,{label:"\u30ec\u30b8\u3078\u9032\u3080",onClick:i}),Object(c.jsx)("div",{className:"module-spacer--extra-extra-small"}),Object(c.jsx)(he,{label:"\u30b7\u30e7\u30c3\u30d4\u30f3\u30b0\u3092\u7d9a\u3051\u308b",onClick:o})]})]})},dt=function(){return function(){var e=Object(ce.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V.signOut().then((function(){t({type:"SIGN_OUT",payload:{isSignedIn:!1,role:"",uid:"",username:""}}),t(Object(ze.d)("/signin"))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},jt=Object(H.a)((function(e){var t;return{detailBox:(t={margin:"0 auto"},Object(qe.a)(t,e.breakpoints.down("sm"),{width:320}),Object(qe.a)(t,e.breakpoints.up("sm"),{width:512}),t),orderBox:{border:"1px solid rgba(0, 0, 0, 0.2)",borderRadius:4,boxShadow:"0 4px 2px 2px rgba(0, 0, 0, 0.2)",height:256,margin:"24px auto 16px auto",padding:16,width:288}}})),bt=function(){var e=jt(),t=Object(s.d)(),n=Object(s.e)((function(e){return e})),r=D(n),i=Object(a.useMemo)((function(){return r.reduce((function(e,t){return e+t.price}),0)}),[r]),o=i>=1e4?0:210,u=.1*i,l=i+o+u,d=Object(a.useCallback)((function(){t(function(e,t){return function(){var n=Object(ce.a)(ne.a.mark((function n(c,a){var r,i,s,o,u,l,d,j,b,O;return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=a().users.uid,i=X.collection("users").doc(r),s=Z.now(),o=[],u=[],l=X.batch(),d=Object(Ae.a)(e),n.prev=6,b=ne.a.mark((function e(){var t,n,c,a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.value,e.next=3,Ue.doc(t.productId).get();case 3:n=e.sent,c=n.data().sizes,a=c.map((function(e){return e.size===t.size?0===e.quantity?(u.push(t.name),e):{size:e.size,quantity:e.quantity-1}:e})),o.push({id:t.productId,images:t.images,name:t.name,price:t.price,size:t.size}),l.update(Ue.doc(t.productId),{sizes:a}),l.delete(i.collection("cart").doc(t.cartId));case 9:case"end":return e.stop()}}),e)})),d.s();case 9:if((j=d.n()).done){n.next=13;break}return n.delegateYield(b(),"t0",11);case 11:n.next=9;break;case 13:n.next=18;break;case 15:n.prev=15,n.t1=n.catch(6),d.e(n.t1);case 18:return n.prev=18,d.f(),n.finish(18);case 21:if(!(u.length>0)){n.next=27;break}return O=u.length>1?u.join("\u3068"):u[0],alert("\u5927\u5909\u7533\u3057\u8a33\u3042\u308a\u307e\u305b\u3093\u3002"+O+"\u304c\u5728\u5eab\u5207\u308c\u306b\u306a\u3063\u305f\u305f\u3081\u3001\u6ce8\u6587\u51e6\u7406\u3092\u4e2d\u65ad\u3057\u307e\u3057\u305f\u3002"),n.abrupt("return",!1);case 27:l.commit().then((function(){var e=i.collection("orders").doc(),n=s.toDate(),a=Z.fromDate(new Date(n.setDate(n.getDate()+3))),r={amount:t,created_at:s,id:e.id,products:o,shipping_date:a,updated_at:s};e.set(r),c(Object(ze.d)("/order/complete"))})).catch((function(){return alert("\u6ce8\u6587\u51e6\u7406\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u901a\u4fe1\u74b0\u5883\u3092\u3054\u78ba\u8a8d\u306e\u4e0a\u3001\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002"),!1}));case 28:case"end":return n.stop()}}),n,null,[[6,15,18,21]])})));return function(e,t){return n.apply(this,arguments)}}()}(r,l))}),[r,l]);return Object(c.jsxs)("section",{className:"c-section-wrapin",children:[Object(c.jsx)("h2",{className:"u-text__headline",children:"\u6ce8\u6587\u306e\u78ba\u8a8d"}),Object(c.jsxs)("div",{className:"p-grid__row",children:[Object(c.jsx)("div",{className:e.detailBox,children:Object(c.jsx)(R.a,{children:r.length>0&&r.map((function(e){return Object(c.jsx)(ee,{product:e},e.cartId)}))})}),Object(c.jsxs)("div",{className:e.orderBox,children:[Object(c.jsx)(ge,{label:"\u5546\u54c1\u5408\u8a08",value:i.toLocaleString()}),Object(c.jsx)(ge,{label:"\u6d88\u8cbb\u7a0e",value:"\xa5"+u}),Object(c.jsx)(ge,{label:"\u9001\u6599",value:"\xa5"+o.toLocaleString()}),Object(c.jsx)(P.a,{}),Object(c.jsx)(ge,{label:"\u5408\u8a08\uff08\u7a0e\u8fbc\uff09",value:"\xa5"+l.toLocaleString()}),Object(c.jsx)(me,{label:"\u6ce8\u6587\u3059\u308b",onClick:d})]})]})]})},Ot=Object(H.a)((function(e){var t;return{orderList:(t={background:e.palette.grey[100],margin:"0 auto",padding:32},Object(qe.a)(t,e.breakpoints.down("md"),{width:"100%"}),Object(qe.a)(t,e.breakpoints.up("sm"),{width:768}),t)}})),pt=function(){var e=Ot(),t=Object(s.d)(),n=Object(s.e)((function(e){return e})),r=B(n);return Object(a.useEffect)((function(){t(function(){var e=Object(ce.a)(ne.a.mark((function e(t,n){var c,a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=n().users.uid,a=[],X.collection("users").doc(c).collection("orders").orderBy("updated_at","desc").get().then((function(e){e.forEach((function(e){var t=e.data();a.push(t)})),t({type:"FETCH_ORDERS_HISTORY",payload:a})}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[]),Object(c.jsx)("section",{className:"c-section-wrapin",children:Object(c.jsx)(R.a,{className:e.orderList,children:r.length>0&&r.map((function(e){return Object(c.jsx)(Ie,{order:e},e.id)}))})})},ht=function(){var e=Object(s.d)(),t=window.location.pathname.split("/product/edit")[1];""!==t&&(t=t.split("/")[1]);var n=Object(a.useState)(""),r=Object(ue.a)(n,2),i=r[0],o=r[1],u=Object(a.useState)(""),l=Object(ue.a)(u,2),d=l[0],j=l[1],b=Object(a.useState)(""),O=Object(ue.a)(b,2),p=O[0],h=O[1],f=Object(a.useState)([]),m=Object(ue.a)(f,2),x=m[0],g=m[1],v=Object(a.useState)(""),w=Object(ue.a)(v,2),C=w[0],y=w[1],k=Object(a.useState)([]),N=Object(ue.a)(k,2),S=N[0],_=N[1],I=Object(a.useState)(""),z=Object(ue.a)(I,2),E=z[0],T=z[1],q=Object(a.useState)([]),B=Object(ue.a)(q,2),D=B[0],F=B[1],R=Object(a.useCallback)((function(e){o(e.target.value)}),[o]),L=Object(a.useCallback)((function(e){j(e.target.value)}),[j]),P=Object(a.useCallback)((function(e){T(e.target.value)}),[T]);return Object(a.useEffect)((function(){""!==t&&X.collection("products").doc(t).get().then((function(e){var t=e.data();_(t.images),o(t.name),j(t.description),h(t.category),y(t.gender),T(t.price),F(t.sizes)}))}),[t]),Object(a.useEffect)((function(){X.collection("categories").orderBy("order","asc").get().then((function(e){var t=[];e.forEach((function(e){var n=e.data();t.push({id:n.id,name:n.name})})),g(t)}))}),[]),Object(c.jsxs)("section",{children:[Object(c.jsx)("h2",{className:"u-text__headline u-text-center",children:"\u5546\u54c1\u306e\u767b\u9332\u30fb\u7de8\u96c6"}),Object(c.jsxs)("div",{className:"c-section-container-2",children:[Object(c.jsx)(oe,{images:S,setImages:_}),Object(c.jsx)(we,{fullwidth:!0,label:"\u5546\u54c1\u540d",multiline:!1,required:!0,onChange:R,rows:1,value:i,type:"text"}),Object(c.jsx)(we,{fullwidth:!0,label:"\u5546\u54c1\u8aac\u660e",multiline:!0,required:!0,onChange:L,rows:5,value:d,type:"text"}),Object(c.jsx)(_e,{label:"\u30ab\u30c6\u30b4\u30ea\u30fc",required:!0,options:x,select:h,value:p}),Object(c.jsx)(_e,{label:"\u6027\u5225",required:!0,options:[{id:"all",name:"\u3059\u3079\u3066"},{id:"male",name:"\u30e1\u30f3\u30ba"},{id:"female",name:"\u30ec\u30c7\u30a3\u30fc\u30b9"}],select:y,value:C}),Object(c.jsx)(we,{fullwidth:!0,label:"\u4fa1\u683c",multiline:!1,required:!0,onChange:P,rows:1,value:E,type:"number"}),Object(c.jsx)("div",{className:"module-spacer--small"}),Object(c.jsx)(ct,{sizes:D,setSizes:F}),Object(c.jsx)("div",{className:"module-spacer--small"}),Object(c.jsx)("div",{className:"center",children:Object(c.jsx)(me,{label:"\u5546\u54c1\u60c5\u5831\u3092\u4fdd\u5b58",onClick:function(){return e(function(e,t,n,c,a,r,i,s){return function(){var o=Object(ce.a)(ne.a.mark((function o(u){var l,d,j;return ne.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l=Z.now(),d={category:c,description:n,gender:a,images:i,name:t,price:parseInt(r,10),sizes:s,updated_at:l},""===e&&(j=Ue.doc(),e=j.id,d.id=e,d.created_at=l),o.abrupt("return",Ue.doc(e).set(d,{merge:!0}).then((function(){u(Object(ze.d)("/"))})).catch((function(e){throw new Error(e)})));case 4:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()}(t,i,d,p,C,E,S,D))}})})]})]})},ft=Object(E.a)([function(e){return e.products}],(function(e){return e.list})),mt=function(){var e=Object(s.d)(),t=Object(s.e)((function(e){return e})),n=ft(t),r=t.router.location.search,i=/^\?gender=/.test(r)?r.split("?gender=")[1]:"",o=/^\?category=/.test(r)?r.split("?category=")[1]:"";return Object(a.useEffect)((function(){e(function(e,t){return function(){var n=Object(ce.a)(ne.a.mark((function n(c){var a;return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=Ue.orderBy("updated_at","desc"),a=""!==e?a.where("gender","==",e):a,(a=""!==t?a.where("category","==",t):a).get().then((function(e){var t=[];e.forEach((function(e){var n=e.data();t.push(n)})),c({type:"FETCH_PRODUCTS",payload:t})}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(i,o))}),[r]),Object(c.jsx)("section",{className:"c-section-wrapin",children:Object(c.jsx)("div",{className:"p-grid__row",children:n.length>0&&n.map((function(e){return Object(c.jsx)(Me,{id:e.id,name:e.name,images:e.images,price:e.price},e.id)}))})})},xt=function(){var e=Object(s.d)(),t=Object(a.useState)(""),n=Object(ue.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(""),u=Object(ue.a)(o,2),l=u[0],d=u[1],j=Object(a.useCallback)((function(e){i(e.target.value)}),[i]),b=Object(a.useCallback)((function(e){d(e.target.value)}),[d]);return Object(c.jsxs)("div",{className:"c-section-container",children:[Object(c.jsx)("h2",{className:"u-text__headline u-text-center",children:"\u30b5\u30a4\u30f3\u30a4\u30f3"}),Object(c.jsx)("div",{className:"module-spacer--medium"}),Object(c.jsx)(we,{fullWidth:!0,label:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",multiline:!1,required:!0,rows:1,value:r,type:"email",onChange:j}),Object(c.jsx)(we,{fullWidth:!0,label:"\u30d1\u30b9\u30ef\u30fc\u30c9",multiline:!1,required:!0,rows:1,value:l,type:"password",onChange:b}),Object(c.jsx)("div",{className:"module-spacer--medium"}),Object(c.jsxs)("div",{className:"center",children:[Object(c.jsx)(me,{label:"\u30b5\u30a4\u30f3\u30a4\u30f3",onClick:function(){return e(function(e,t){return function(){var n=Object(ce.a)(ne.a.mark((function n(c){return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==e&&""!==t){n.next=3;break}return alert("\u5fc5\u9808\u9805\u76ee\u304c\u672a\u5165\u529b\u3067\u3059"),n.abrupt("return",!1);case 3:V.signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;if(t){var n=t.uid;X.collection("users").doc(n).get().then((function(e){var t=e.data();c(C({isSignedIn:!0,role:t.role,uid:n,username:t.username})),c(Object(ze.d)("/"))}))}}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(r,l))}}),Object(c.jsx)("div",{className:"module-spacer--medium"}),Object(c.jsx)("p",{onClick:function(){return e(Object(ze.d)("/signUp"))},children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u3067\u306a\u3044\u65b9\u306f\u3053\u3061\u3089"}),Object(c.jsx)("p",{onClick:function(){return e(Object(ze.d)("/signin/reset"))},children:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5fd8\u308c\u305f\u65b9\u306f\u3053\u3061\u3089"})]})]})},gt=function(){var e=Object(s.d)(),t=Object(a.useState)(""),n=Object(ue.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(""),u=Object(ue.a)(o,2),l=u[0],d=u[1],j=Object(a.useState)(""),b=Object(ue.a)(j,2),O=b[0],p=b[1],h=Object(a.useState)(""),f=Object(ue.a)(h,2),m=f[0],x=f[1],g=Object(a.useCallback)((function(e){i(e.target.value)}),[i]),v=Object(a.useCallback)((function(e){d(e.target.value)}),[d]),w=Object(a.useCallback)((function(e){p(e.target.value)}),[p]),C=Object(a.useCallback)((function(e){x(e.target.value)}),[x]);return Object(c.jsxs)("div",{className:"c-section-container",children:[Object(c.jsx)("h2",{className:"u-text__headline u-text-center",children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u767b\u9332"}),Object(c.jsx)("div",{className:"module-spacer--medium"}),Object(c.jsx)(we,{fullWidth:!0,label:"\u30e6\u30fc\u30b6\u30fc\u540d",multiline:!1,required:!0,rows:1,value:r,type:"text",onChange:g}),Object(c.jsx)(we,{fullWidth:!0,label:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",multiline:!1,required:!0,rows:1,value:l,type:"email",onChange:v}),Object(c.jsx)(we,{fullWidth:!0,label:"\u30d1\u30b9\u30ef\u30fc\u30c9",multiline:!1,required:!0,rows:1,value:O,type:"password",onChange:w}),Object(c.jsx)(we,{fullWidth:!0,label:"\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u78ba\u8a8d",multiline:!1,required:!0,rows:1,value:m,type:"password",onChange:C}),Object(c.jsx)("div",{className:"module-spacer--medium"}),Object(c.jsxs)("div",{className:"center",children:[Object(c.jsx)(me,{label:"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u767b\u9332\u3059\u308b",onClick:function(){return e(function(e,t,n,c){return function(){var a=Object(ce.a)(ne.a.mark((function a(r){return ne.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(""!==e&&""!==t&&""!==n&&""!==c){a.next=3;break}return alert("\u5fc5\u9808\u9805\u76ee\u304c\u672a\u5165\u529b\u3067\u3059"),a.abrupt("return",!1);case 3:if(n===c){a.next=6;break}return alert("\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u4e00\u81f4\u3057\u307e\u305b\u3093\u3002\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044"),a.abrupt("return",!1);case 6:return a.abrupt("return",V.createUserWithEmailAndPassword(t,n).then((function(n){var c=n.user;if(c){var a=c.uid,i=Z.now(),s={created_at:i,email:t,uid:a,updated_at:i,username:e};X.collection("users").doc(a).set(s).then((function(){r(Object(ze.d)("/"))}))}})));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(r,l,O,m))}}),Object(c.jsx)("div",{className:"module-spacer--medium"}),Object(c.jsx)("p",{onClick:function(){return e(Object(ze.d)("/signin"))},children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u306e\u65b9\u306f\u3053\u3061\u3089"}),Object(c.jsx)("p",{onClick:function(){return e(Object(ze.d)("/signin/reset"))},children:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5fd8\u308c\u305f\u65b9\u306f\u3053\u3061\u3089"})]})]})},vt=function(){var e=Object(s.d)(),t=Object(a.useState)(""),n=Object(ue.a)(t,2),r=n[0],i=n[1],o=Object(a.useCallback)((function(e){i(e.target.value)}),[i]);return Object(c.jsxs)("div",{className:"c-section-container",children:[Object(c.jsx)("h2",{className:"u-text__headline u-text-center",children:"\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u30ea\u30bb\u30c3\u30c8"}),Object(c.jsx)("div",{className:"module-spacer--medium"}),Object(c.jsx)(we,{fullWidth:!0,label:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",multiline:!1,required:!0,rows:1,value:r,type:"email",onChange:o}),Object(c.jsx)("div",{className:"module-spacer--medium"}),Object(c.jsxs)("div",{className:"center",children:[Object(c.jsx)(me,{label:"Reset password",onClick:function(){return e(function(e){return function(){var t=Object(ce.a)(ne.a.mark((function t(n){return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e){t.next=5;break}return alert("\u5fc5\u9808\u9805\u76ee\u304c\u672a\u5165\u529b\u3067\u3059"),t.abrupt("return",!1);case 5:V.sendPasswordResetEmail(e).then((function(){alert("\u5165\u529b\u3055\u308c\u305f\u30a2\u30c9\u30ec\u30b9\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u30ea\u30bb\u30c3\u30c8\u7528\u306e\u30e1\u30fc\u30eb\u3092\u9001\u308a\u307e\u3057\u305f")})).catch((function(){alert("\u30d1\u30b9\u30ef\u30fc\u30c9\u30ea\u30bb\u30c3\u30c8\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u901a\u4fe1\u74b0\u5883\u306e\u826f\u3044\u3068\u3053\u308d\u3067\u518d\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044")}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(r))}}),Object(c.jsx)("div",{className:"module-spacer--medium"}),Object(c.jsx)("p",{onClick:function(){return e(Object(ze.d)("/signIn"))},children:"\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u306b\u623b\u308b"})]})]})},wt=n(121),Ct=Object(H.a)((function(e){var t,n;return{sliderBox:(t={},Object(qe.a)(t,e.breakpoints.down("sm"),{margin:"0 auto 24px auto",height:320,width:320}),Object(qe.a)(t,e.breakpoints.up("sm"),{margin:"0 auto",height:400,width:400}),t),detail:(n={textAlign:"left"},Object(qe.a)(n,e.breakpoints.down("sm"),{margin:"0 auto 16px auto",height:"auto",width:320}),Object(qe.a)(n,e.breakpoints.up("sm"),{margin:"0 auto",height:"auto",width:400}),n),price:{fontSize:36}}})),yt=function(){var e=Ct(),t=Object(s.d)(),n=Object(s.e)((function(e){return e})).router.location.pathname.split("/product/")[1],r=Object(a.useState)(null),i=Object(ue.a)(r,2),o=i[0],u=i[1];Object(a.useEffect)((function(){X.collection("products").doc(n).get().then((function(e){var t=e.data();u(t)}))}),[]);var l,d=Object(a.useCallback)((function(e){var n,c=Z.now();t((n={added_at:c,description:o.description,gender:o.gender,images:o.images,name:o.name,price:o.price,productId:o.id,quantity:1,size:e},function(){var e=Object(ce.a)(ne.a.mark((function e(t,c){var a,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c().users.uid,r=X.collection("users").doc(a).collection("cart").doc(),n.cartId=r.id,e.next=5,r.set(n);case 5:t(Object(ze.d)("/"));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))}),[o]);return Object(c.jsx)("section",{className:"c-section-wrapin",children:o&&Object(c.jsxs)("div",{className:"p-grid__row",children:[Object(c.jsx)("div",{className:e.sliderBox,children:Object(c.jsx)(be,{images:o.images})}),Object(c.jsxs)("div",{className:e.detail,children:[Object(c.jsx)("h2",{className:"u-text__headline",children:o.name}),Object(c.jsx)("p",{className:e.price,children:o.price.toLocaleString()}),Object(c.jsx)("div",{className:"module-spacer--small"}),Object(c.jsx)(ot,{addProduct:d,sizes:o.sizes}),Object(c.jsx)("div",{className:"module-spacer--small"}),Object(c.jsx)("p",{children:(l=o.description,""===l?l:Object(wt.a)(l.replace(/\r?\n/g,"<br/>")))})]})]})})},kt=function(e){var t=e.children,n=Object(s.d)(),r=Object(s.e)((function(e){return e})),i=q(r);return Object(a.useEffect)((function(){i||n(function(){var e=Object(ce.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",V.onAuthStateChanged((function(e){if(e){var n=e.uid;X.collection("users").doc(n).get().then((function(e){var c=e.data();t(C({isSignedIn:!0,role:c.role,uid:n,username:c.username}))}))}else t(Object(ze.d)("/signin"))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),i?t:Object(c.jsx)(c.Fragment,{})},Nt=function(){return Object(c.jsxs)(z.c,{children:[Object(c.jsx)(z.a,{exact:!0,path:"/signup",component:gt}),Object(c.jsx)(z.a,{exact:!0,path:"/signin",component:xt}),Object(c.jsx)(z.a,{exact:!0,path:"/signin/reset",component:vt}),Object(c.jsxs)(kt,{children:[Object(c.jsx)(z.a,{exact:!0,path:"(/)?",component:mt}),Object(c.jsx)(z.a,{exact:!0,path:"/product/:id",component:yt}),Object(c.jsx)(z.a,{path:"/product/edit(/:id)?",component:ht}),Object(c.jsx)(z.a,{exact:!0,path:"/cart",component:lt}),Object(c.jsx)(z.a,{exact:!0,path:"/order/confirm",component:bt}),Object(c.jsx)(z.a,{exact:!0,path:"/order/history",component:pt})]})]})},St=(n(186),n(187),n(259)),_t=n(252),It=n(125),zt=n.n(It),Et=n(122),Tt=n.n(Et),qt=n(123),Bt=n.n(qt),Dt=n(124),Ft=n.n(Dt),Rt=n(126),Lt=n.n(Rt),Pt=Object(H.a)((function(e){return{drawer:Object(qe.a)({},e.breakpoints.up("sm"),{flexShrink:0,width:256}),toolbar:e.mixins.toolbar,drawerPapper:{width:256},searchField:{alignItems:"center",display:"flex",marginLeft:32}}})),Wt=function(e){var t=Pt(),n=e.container,r=Object(s.d)(),i=Object(a.useState)(""),o=Object(ue.a)(i,2),u=o[0],l=o[1],d=Object(a.useCallback)((function(e){l(e.target.value)}),[l]),j=function(t,n){r(Object(ze.d)(n)),e.onClose(t)},b=Object(a.useState)([{func:j,label:"\u5168\u3066",id:"all",value:"/"},{func:j,label:"\u30e1\u30f3\u30ba",id:"male",value:"/?gender=male"},{func:j,label:"\u30ec\u30c7\u30a3\u30fc\u30b9",id:"female",value:"/?gender=female"}]),O=Object(ue.a)(b,2),p=O[0],h=O[1],f=[{func:j,label:"\u5546\u54c1\u767b\u9332",icon:Object(c.jsx)(Tt.a,{}),id:"register",value:"/product/edit"},{func:j,label:"\u6ce8\u6587\u5c65\u6b74",icon:Object(c.jsx)(Bt.a,{}),id:"history",value:"/order/history"},{func:j,label:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb",icon:Object(c.jsx)(Ft.a,{}),id:"profile",value:"/user/mypage"}];return Object(a.useEffect)((function(){X.collection("categories").orderBy("order","asc").get().then((function(e){var t=[];e.forEach((function(e){var n=e.data();t.push({func:j,label:n.name,id:n.id,value:"/?category=".concat(n.id)})})),h((function(e){return[].concat(Object(m.a)(e),t)}))}))}),[]),Object(c.jsx)("nav",{className:t.drawer,children:Object(c.jsx)(St.a,{container:n,variant:"temporary",anchor:"right",open:e.open,onClose:function(t){return e.onClose(t)},classes:{paper:t.drawerPapper},ModalProps:{keepMounted:!0},children:Object(c.jsxs)("div",{onClose:function(t){return e.onClose(t)},onKeyDown:function(t){return e.onClose(t)},children:[Object(c.jsxs)("div",{className:t.searchField,children:[Object(c.jsx)(we,{fullWidth:!1,label:"\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b",multiline:!1,onChange:d,required:!1,rows:1,value:u,type:"text"}),Object(c.jsx)(Y.a,{children:Object(c.jsx)(zt.a,{})})]}),Object(c.jsx)(P.a,{}),Object(c.jsxs)(R.a,{children:[f.map((function(e){return Object(c.jsxs)(W.a,{button:!0,onClick:function(t){return e.func(t,e.value)},children:[Object(c.jsx)(_t.a,{children:e.icon}),Object(c.jsx)(A.a,{primary:e.label})]},e.id)})),Object(c.jsxs)(W.a,{button:!0,onClick:function(){return r(dt())},children:[Object(c.jsx)(_t.a,{children:Object(c.jsx)(Lt.a,{})}),Object(c.jsx)(A.a,{primary:"Logout"})]},"logout")]}),Object(c.jsx)(P.a,{}),Object(c.jsx)(R.a,{children:p.map((function(e){return Object(c.jsx)(W.a,{button:!0,onClick:function(t){return e.func(t,e.value)},children:Object(c.jsx)(A.a,{primary:e.label})},e.id)}))})]})})})},At=n(253),Ut=n(254),Ht=n.p+"static/media/logo2.df6e5128.png",Mt=Object(H.a)({root:{flexGrow:1},menuBar:{backgroundColor:"#fff",color:"#444"},toolBar:{margin:"0 auto",maxWidth:1024,width:"100%"},iconButoons:{margin:"0 0 0 auto"}}),Gt=function(){var e=Mt(),t=Object(s.d)(),n=Object(s.e)((function(e){return e})),r=q(n),i=Object(a.useState)(!1),o=Object(ue.a)(i,2),u=o[0],l=o[1],d=Object(a.useCallback)((function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&l(!u)}),[l,u]);return Object(c.jsxs)("div",{className:e.root,children:[Object(c.jsx)(At.a,{position:"fixed",className:e.menuBar,children:Object(c.jsxs)(Ut.a,{className:e.toolBar,children:[Object(c.jsx)("img",{src:Ht,alt:"Tatsuya Logo",width:"160px",onClick:function(){return t(Object(ze.d)("/"))}}),r&&Object(c.jsx)("div",{className:e.iconButoons,children:Object(c.jsx)(Vt,{handleDrawerToggle:d})})]})}),Object(c.jsx)(Wt,{open:u,onClose:d})]})},Yt=n(255),Jt=n(127),Kt=n.n(Jt),Vt=function(e){var t=Object(s.d)(),n=Object(s.e)((function(e){return e})),r=F(n),i=D(n);return Object(a.useEffect)((function(){var e=X.collection("users").doc(r).collection("cart").onSnapshot((function(e){var n;e.docChanges().forEach((function(e){var t=e.doc.data();switch(e.type){case"added":i.push(t);break;case"modified":var n=i.findIndex((function(t){return t.cartId===e.doc.id}));i[n]=t;break;case"removed":i=i.filter((function(e){return e.id}))}})),t((n=i,function(){var e=Object(ce.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(v(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}));return function(){return e()}}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Y.a,{onClick:function(){return t(Object(ze.d)("/cart"))},children:Object(c.jsx)(Yt.a,{badgeContent:i.length,color:"secondary",children:Object(c.jsx)(rt.a,{})})}),Object(c.jsx)(Y.a,{children:Object(c.jsx)(st.a,{})}),Object(c.jsx)(Y.a,{onClick:function(t){return e.handleDrawerToggle(t)},children:Object(c.jsx)(Kt.a,{})})]})},Xt=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Gt,{}),Object(c.jsx)("main",{className:"c-main",children:Object(c.jsx)(Nt,{})})]})},Qt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,264)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},Zt=N.a(),$t=(K=Zt,Object(u.a)({collapsed:!0,diff:!0}),Object(o.d)(Object(o.c)({products:f,router:Object(l.b)(K),users:k}),Object(o.a)(Object(d.a)(K),j.a)));i.a.render(Object(c.jsx)(s.a,{store:$t,children:Object(c.jsx)(l.a,{history:Zt,children:Object(c.jsx)(S.a,{theme:I,children:Object(c.jsx)(Xt,{})})})}),document.getElementById("root")),Qt()}},[[188,1,2]]]);
//# sourceMappingURL=main.ab1a1696.chunk.js.map